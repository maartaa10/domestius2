<div class="publicacio-detall-container" [class.blur-background]="showContactForm">
  <div class="publicacio-content" *ngIf="animal">
    <!-- Sección superior con información del animal -->
    <div class="publicacio-header">
      <div class="back-link">
        <a (click)="goBack()"><i class="fas fa-arrow-left"></i> Tornar a la llista</a>
      </div>
      <div class="publicacio-title">
        <h1>{{ animal.nom || 'Animal' }}</h1>
        <span class="publicacio-date"><i class="fas fa-calendar-alt"></i> {{ animal.data || 'Data no disponible' }}</span>
      </div>
    </div>

    <div class="content-grid">
      <!-- Tarjeta de información del animal -->
      <div class="card animal-card">
        <div class="card-header">
          <i class="fas fa-paw"></i>
          <h3>Dades de l'Animal</h3>
        </div>
        <div class="card-content">
          <div class="animal-image-container">
            <img [src]="animal.imatge || 'assets/default-animal.png'" alt="{{ animal.nom }}" class="animal-image">
          </div>
          <div class="animal-info">
            <div class="info-group">
              <div class="info-item">
                <div class="info-icon"><i class="fas fa-tag"></i></div>
                <div class="info-content">
                  <span class="info-label">Nom</span>
                  <span class="info-value">{{ animal.nom || 'No disponible' }}</span>
                </div>
              </div>
              <div class="info-item">
                <div class="info-icon"><i class="fas fa-birthday-cake"></i></div>
                <div class="info-content">
                  <span class="info-label">Edat</span>
                  <span class="info-value">{{ animal.edat || 'No disponible' }}</span>
                </div>
              </div>
              <div class="info-item">
                <div class="info-icon"><i class="fas fa-paw"></i></div>
                <div class="info-content">
                  <span class="info-label">Espècie</span>
                  <span class="info-value">{{ animal.especie || 'No disponible' }}</span>
                </div>
              </div>
              <div class="info-item">
                <div class="info-icon"><i class="fas fa-dna"></i></div>
                <div class="info-content">
                  <span class="info-label">Raça</span>
                  <span class="info-value">{{ animal['raça'] || 'No disponible' }}</span>
                </div>
              </div>
            </div>
            <div class="animal-description">
              <p><i class="fas fa-comment-alt"></i> {{ animal.descripcio || 'No hi ha descripció disponible' }}</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Formulario de contacto -->
      <div class="card contact-card">
        <div class="card-header">
          <i class="fas fa-envelope"></i>
          <h3>Contacta amb nosaltres</h3>
        </div>
        <div class="card-content">
          <form
            target="_blank"
            action="https://formsubmit.co/mrodrigoll13@gmail.com"
            method="POST"
            (submit)="onFormSubmit($event)"
          >
            <div class="form-group">
              <div class="form-row">
                <div class="col">
                  <input type="text" name="name" class="form-control" placeholder="El teu nom" required>
                </div>
                <div class="col">
                  <input type="email" name="email" class="form-control" placeholder="Email" required>
                </div>
              </div>
            </div>
            <div class="form-group">
              <textarea placeholder="Escriu el teu missatge" class="form-control" name="message" rows="10" required></textarea>
            </div>
            <input type="hidden" name="_autoresponse" value="Gràcies per contactar amb nosaltres. Ens posarem en contacte amb tu aviat.">
            <input type="hidden" name="_next" value="https://domestius2.vercel.app/gracies">
            <button type="submit" class="btn btn-lg btn-dark btn-block">Enviar</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>